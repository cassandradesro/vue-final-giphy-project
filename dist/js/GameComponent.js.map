{"version":3,"sources":["GameComponent.js"],"names":["GameComponent","Vue","component","data","giphyString","giphys","template","props","watch","status","console","log","phase","giphySearch","methods","giphySelect","giphyURL","$emit","event","target","parentNode","classList","add","api_key","uri","encodeURIComponent","axios","get","then","response","catch","error","warn"],"mappings":";;AAAA,IAAIA,gBAAgBC,IAAIC,SAAJ,CAAc,MAAd,EAAsB;AACzCC,KADyC,kBAClC;AACN,SAAO;AACNC,gBAAa,EADP;AAENC,WAAQ;AAFF,GAAP;AAIA,EANwC;;AAOzCC,ypBAPyC;AAwBzCC,QAAM,CAAC,QAAD,EAAW,eAAX,CAxBmC;AAyBzCC,QAAO;AACNC,UAAQ,kBAAW;AAClBC,WAAQC,GAAR,CAAY,qBAAZ;AACA,OAAI,KAAKF,MAAL,CAAYG,KAAZ,KAAsB,MAA1B,EAAkC;AACjC,SAAKP,MAAL,GAAc,EAAd;AACA,SAAKD,WAAL,GAAmB,EAAnB;AACA;AACD,GAPK;AAQNA,eAAa,uBAAW;AACvB,QAAKS,WAAL;AACA;AAVK,EAzBkC;AAqCzCC,UAAS;AACRC,eAAa,qBAASC,QAAT,EAAkB;AAC9BN,WAAQC,GAAR,CAAY,aAAZ,EAA2BK,QAA3B;AACA,QAAKC,KAAL,CAAW,mBAAX,EAAgCD,QAAhC;AACAE,SAAMC,MAAN,CAAaC,UAAb,CAAwBC,SAAxB,CAAkCC,GAAlC,CAAsC,QAAtC;AACA;AACA;AACA,GAPO;AAQRT,eAAa,uBAAU;AAAA;;AACtB,OAAIU,UAAU,kCAAd;AACA;AACA,OAAIC,MAAM,2CAA2CC,mBAAmB,KAAKrB,WAAxB,CAA3C,GAAkF,WAAlF,GAAgGmB,OAAhG,GAA0G,WAApH;AACAG,SACEC,GADF,CACMH,GADN,EAEEI,IAFF,CAEO,UAACC,QAAD,EAAc;AACnBnB,YAAQC,GAAR,CAAYkB,QAAZ;AACA,UAAKxB,MAAL,GAAcwB,SAAS1B,IAAT,CAAcA,IAA5B;AACA,IALF,EAME2B,KANF,CAMQ,UAACC,KAAD,EAAW;AACjBrB,YAAQsB,IAAR,CAAaD,KAAb;AACA,IARF;AASA;;AArBO;;AArCgC,CAAtB,CAApB","file":"GameComponent.js","sourcesContent":["var GameComponent = Vue.component(\"game\", {\n\tdata() {\n\t\treturn {\n\t\t\tgiphyString: \"\",\n\t\t\tgiphys: []\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"game\">\n\t\t\t<h1>{{status.question}}</h1>\n\t\t\t<div>Hurry! Only {{Math.round(status.timeLeftInPhase/1000)}} seconds left to submit and vote!</div>\n\t\t\t<input v-if=\"this.status.phase === 'game'\" v-model=\"giphyString\">\n\t\t\t<router-link class=\"btn\" to=\"/vote\">Vote!</router-link>\n\n\t\t\t<ul v-if=\"this.status.phase === 'game'\">\n\t\t\t\t<li @click=\"giphySelect(giphy.images.original.url)\" v-for=\"giphy in giphys\">\n\t\t\t\t\t<img :src=\"giphy.images.original.url\">\n\t\t\t\t</li>\n\t\t\t</ul>\n\n\t\t\t<p v-if=\"this.status.phase !== 'game'\">Can't search right now, the game is over! </p>\n\t\n\t\t</div>\n\t`,\n\tprops:[\"status\", \"localtimeleft\",],\n\twatch: {\n\t\tstatus: function() {\n\t\t\tconsole.log(\"status has changed!\")\n\t\t\tif (this.status.phase !== \"game\") {\n\t\t\t\tthis.giphys = [];\n\t\t\t\tthis.giphyString = \"\";\n\t\t\t}\n\t\t},\n\t\tgiphyString: function() {\n\t\t\tthis.giphySearch();\n\t\t}\n\t},\n\tmethods: {\n\t\tgiphySelect: function(giphyURL){\n\t\t\tconsole.log(\"giphySelect\", giphyURL)\n\t\t\tthis.$emit(\"userselectedgiphy\", giphyURL)\n\t\t\tevent.target.parentNode.classList.add(\"active\")\n\t\t\t// this.giphys = []\n\t\t\t// this.giphyString = \"\"\n\t\t},\n\t\tgiphySearch: function(){\n\t\t\tvar api_key = 'CEaSZI3qWDRHdDm7mNflLNWRBwa5bQmj';\n\t\t\t//\"http://api.giphy.com/v1/gifs/search?q=ryan+gosling&api_key=YOUR_API_KEY&limit=5\"\n\t\t\tvar uri = \"http://api.giphy.com/v1/gifs/search?q=\" + encodeURIComponent(this.giphyString) + \"&api_key=\" + api_key + \"&limit=12\";\n\t\t\taxios\n\t\t\t\t.get(uri)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconsole.log(response);\t\n\t\t\t\t\tthis.giphys = response.data.data;\t\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.warn(error);\n\t\t\t\t});\n\t\t},\n\n\t}\n\n})\n"]}